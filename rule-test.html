<link rel="import" href="../iron-ajax/iron-ajax.html">
<link rel="import" href="../polymer/polymer.html">
<!--
`<rule-test></rule-test>` Security rule testing
@demo demo.html
-->

<dom-module id="rule-test">
  <template>
    <iron-ajax auto url="{{_url}}" handle-as="json" last-response="{{data}}" last-error="{{error}}"> </iron-ajax>
    err?
    <template is="dom-if" if="{{error}}">
      {{_stringify(error.error.message)}}
    </template>
    <br />
    users
    <template is="dom-if" if="{{data}}">
      {{_stringify(data)}}
    </template>
  </template>
</dom-module>
<script>
Polymer({
  is: "rule-test",
  properties: {
    url: {value:"https://g1.firebaseio.com/.json"},
    _url: {computed: "_getUrl"},
    add: {value:""}
  },
  _stringify: function(obj) {
    return JSON.stringify(obj)
  },
  _getUrl: function(url, add) {
    return url + "" + add
  }
})
</script>
